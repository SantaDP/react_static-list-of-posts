(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(21)},18:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(9),o=n.n(r),c=(n(18),n(6)),i=n(7),l=n.n(i),m=n(10),u=n(1),p=n(2),d=n(4),h=n(3),f=n(5),v=(n(20),n(11)),b=function(e){var t=e.user;return s.a.createElement("div",{className:"post--list__user"},s.a.createElement("div",{className:"post--list__user-name"},t.name),s.a.createElement("div",{className:"post--list__user-email"},t.email),s.a.createElement("div",{className:"post--list__user-address"},t.address.city,", ",t.address.street))},_=function(e){var t=e.comment;return s.a.createElement("section",{key:t.id,className:"post--list__comment"},s.a.createElement("h3",{className:"post--list__comment--title"},t.name),s.a.createElement("p",{className:"post--list__comment--paragraph"},t.body),s.a.createElement("div",{className:"post--list__comment--email"},s.a.createElement("span",null,"Email: "),s.a.createElement("a",{href:"javascript:void(0)",className:"post--list__comment--email-link"},t.email)))},E=function(e){var t=e.comments,n=e.visibile;return s.a.createElement("div",{className:n?"post--list__comment--list":"post--list__comment--list-none"},t.map(function(e){return s.a.createElement(_,{key:e.id,comment:e})}))},j=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).state={item:n.props.item,comments:n.props.item.comments.map(function(e){return Object(c.a)({},e,{visibile:!1})})},n.handleShowComments=function(e){var t=Object(v.a)(n.state.comments);t.map(function(e){return e.visibile=!e.visibile}),n.setState(function(){return{comments:t}})},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"post--list__post"},s.a.createElement(b,{user:this.state.item.user}),s.a.createElement("h2",{className:"post--list__post--title"},this.state.item.title),s.a.createElement("p",null,this.state.item.body),s.a.createElement("button",{className:"post--list__post-btn",onClick:function(){return e.handleShowComments(e.state.item.id)}}," Comments - ",this.state.item.comments.length),s.a.createElement(E,{comments:this.state.comments,visibile:this.state.comments[0].visibile}))}}]),t}(s.a.Component),y=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).state={posts:n.props.items},n.handleSort=function(e){var t=n.props.items,a=e.target.value.trim(),s=t.filter(function(e){return-1!==e.title.toLowerCase().search(a.toLowerCase())||-1!==e.body.toLowerCase().search(a.toLowerCase())});s.length>0?n.setState({posts:s}):n.setState({posts:n.props.items})},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"post--list"},s.a.createElement("input",{type:"text",placeholder:"Serch",onChange:this.handleSort}),s.a.createElement("ul",null,this.state.posts.map(function(e){return s.a.createElement("li",{key:e.id,className:"post--list__list"},s.a.createElement(j,{item:e}))})))}}]),t}(s.a.Component),O=function(){return fetch("https://jsonplaceholder.typicode.com/posts").then(function(e){return e.json()})},w=function(){return fetch("https://jsonplaceholder.typicode.com/users").then(function(e){return e.json()})},N=function(){return fetch("https://jsonplaceholder.typicode.com/comments").then(function(e){return e.json()})},C=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).state={filterValue:[],isLoaded:!1,posts:[],btnText:"Load"},n.handleLoadData=Object(m.a)(l.a.mark(function e(){var t,a,s,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({btnText:"Loading..."}),e.next=3,O();case 3:return t=e.sent,e.next=6,w();case 6:return a=e.sent,e.next=9,N();case 9:s=e.sent,r=n.getPostsWithUsersAndComments(t,a,s),setTimeout(function(){n.setState({posts:r,isLoaded:!0})},1500);case 12:case"end":return e.stop()}},e)})),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"getPostsWithUsersAndComments",value:function(e,t,n){return e.map(function(e){return Object(c.a)({},e,{user:t.find(function(t){return t.id===e.userId}),comments:n.filter(function(t){return t.postId===e.id})})})}},{key:"render",value:function(){var e=this.state,t=e.posts,n=e.isLoaded,a=e.btnText;return s.a.createElement("div",{className:"App"},s.a.createElement("div",null),n?s.a.createElement(y,{items:t}):s.a.createElement("button",{onClick:this.handleLoadData,className:"post--list__btn-loaded"},a))}}]),t}(s.a.Component);o.a.render(s.a.createElement(C,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.ba24a93c.chunk.js.map